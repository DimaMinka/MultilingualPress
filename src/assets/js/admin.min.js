!function(){"use strict";window.MultilingualPress=function(){return this}}(),function(a){"use strict";var b={init:function(){var b=this;b.setToggle(),a(document).on("click",".mlp_copy_button",function(c){c.preventDefault();var d=a(c.target).data("blog_id");b.copyPost(d)})},setToggle:function(){a(document).on("click","[data-toggle_selector]",function(){return"INPUT"===this.tagName?!0:(a(a(this).data("toggle_selector")).toggle(),!1)}),a("label.mlp_toggler").each(function(){var b=a('input[name="'+a("#"+a(this).attr("for")).attr("name")+'"]'),c=b.filter("[data-toggle_selector]");c.length&&b.on("change",function(){return a(c.data("toggle_selector")).toggle(c.is(":checked")),!0})})},copyPost:function(b){var c="mlp_translation_data_"+b,d=tinyMCE.get(c+"_content"),e=a("#content").val(),f=a("#excerpt").val(),g=tinyMCE.get("content"),h=a("#title").val(),i=a("#editable-post-name").html();h&&a("#"+c+"_title").val(h),e&&a("#"+c+"_content").val(e),i&&a("#"+c+"_name").val(i),f&&a("#"+c+"_excerpt").val(f),g&&d.setContent(g.getContent())}};a(function(){b.init()})}(jQuery),function(a){"use strict";var b={initialize:function(){b.initializeLanguages(),b.initializePlugins()},initializeLanguages:function(){b.$language=a("#inpsyde_multilingual_lang"),b.$siteLanguage=a("#site-language"),b.$siteLanguage.length&&b.$siteLanguage.on("change",function(){b.adaptLanguage()})},adaptLanguage:function(){var a=b.getSiteLanguage();b.$language.find('[value="'+a+'"]').length&&b.$language.val(a)},getSiteLanguage:function(){var a=b.$siteLanguage.val();return a?a.replace("_","-"):"en-US"},initializePlugins:function(){b.$sourceSiteID=a("#inpsyde_multilingual_based"),b.$pluginsRow=a("#blog_activate_plugins").closest("tr"),b.$sourceSiteID.length&&b.$pluginsRow.length&&b.$sourceSiteID.on("change",function(){b.togglePluginsRow(a(this))})},togglePluginsRow:function(a){b.$pluginsRow.toggle(0<a.val())}};MultilingualPress.AddNewSite=b,a(function(){setTimeout(MultilingualPress.AddNewSite.initialize,100)})}(jQuery),function(a){"use strict";var b={initialize:function(){b.$table=a(".mlp_term_selections"),b.$table.length&&(b.$selects=b.$table.find("select"),b.$table.on("change","select",function(){b.propagateSelectedTerm(a(this))}))},propagateSelectedTerm:function(c){var d;b.isPropagating||(b.isPropagating=!0,d=b.getSelectedRelation(c),""!==d&&b.$selects.not(c).each(function(c,e){b.selectTerm(a(e),d)}),b.isPropagating=!1)},getSelectedRelation:function(a){return a.find("option:selected").data("relation")||""},selectTerm:function(a,c){var d=a.find('option[data-relation="'+c+'"]');d.length?a.val(d.val()):b.getSelectedRelation(a)&&a.val(a.find("option").first().val())}};MultilingualPress.TermTranslator=b,a(MultilingualPress.TermTranslator.initialize)}(jQuery),function(a){"use strict";var b={init:function(){this.meta_box_init(),this.meta_box_toggle_switch()},meta_box_init:function(){a(".to_translate").hide(),a("input.do_translate[checked]").each(function(){var b=a(this).attr("data");a(".translate_"+b).toggle(),a("#content_"+b+"_ifr").height(400)})},meta_box_toggle_switch:function(){a(".do_translate").on("click",function(){var b=a(this).attr("data");a(".translate_"+b).toggle("slow"),a("#content_"+b+"_ifr").height(400)})}};a(function(){b.init()})}(jQuery),function(a){"use strict";var b={initialize:function(){}};MultilingualPress.NavMenus=b,a(MultilingualPress.NavMenus.initialize)}(jQuery),function(a){"use strict";a("#submit-mlp_language").on("click",function(b){b.preventDefault();var c=[],d=a("#"+mlp_nav_menu.metabox_list_id+" li :checked"),e=a("#"+mlp_nav_menu.metabox_id).find(".spinner"),f=a("#submit-mlp_language");d.each(function(){c.push(a(this).val())}),f.prop("disabled",!0),e.show();var g={action:mlp_nav_menu.action,mlp_sites:c,menu:a("#menu").val()};g[mlp_nav_menu.nonce_name]=mlp_nav_menu.nonce,a.post(mlp_nav_menu.ajaxurl,g,function(b){a("#menu-to-edit").append(b),e.hide(),d.prop("checked",!1),f.prop("disabled",!1)})})}(jQuery),function(a,b){"use strict";function c(a,b){for(var c=0;c<a.length;c++)if(void 0!==a[c][0]&&void 0!==b[0]&&a[c][0]===b[0])return c;return-1}var d=[];a(".mlp_rsc_action_list input").on("change",function(){var b=a(this),e=b.parent(".mlp_advanced_translator_metabox"),f="stay"===b.val(),g=c(d,e);-1===g?f||d.push(e):f&&d.splice(g,1)}),a("body").hasClass("post-php")&&a("#publish").on("click",function(a){d.length&&!confirm(b.unsavedPostRelationships)&&(a.preventDefault(),a.stopPropagation())}),a.fn.mlp_search=function(b){var c=a.extend({remote_blog_id:this.data("remote_blog_id"),remote_post_id:this.data("remote_post_id"),source_blog_id:this.data("source_blog_id"),source_post_id:this.data("source_post_id"),search_field:"input.mlp_search_field",result_container:"ul.mlp_search_results",action:"mlp_search",nonce:"",spinner:'<span class="spinner no-float" style="display:block"></span>'},b),d=a(c.result_container).html(),e=a(c.search_field),f=[],g=function(b){a(c.result_container).html(b)},h=function(b){if(f[b])return void g(f[b]);g(c.spinner);var d=a.post(ajaxurl,{action:c.action,source_post_id:c.source_post_id,source_blog_id:c.source_blog_id,remote_post_id:c.remote_post_id,remote_blog_id:c.remote_blog_id,s:b});d.done(function(a){f[b]=a,g(a)})};e.on("keypress",function(a){return 13==a.which?!1:void 0}).on("keyup",function(b){b.preventDefault(),b.stopPropagation();var c=a.trim(a(this).val());c&&0!==c.length?2<c.length&&h(c):g(d)})},a(".mlp_rsc_save_reload").on("click.mlp",function(c){c.preventDefault(),c.stopPropagation();var d=a(this),e=d.data("source_post_id"),f=d.data("source_blog_id"),g=d.data("remote_post_id"),h=d.data("remote_blog_id"),i=a('input[name="mlp_rsc_action['+h+']"]:checked').val(),j=0,k="",l=function(){o("disconnect")},m=function(){k=a('input[name="post_title"]').val(),o("new_relation")},n=function(){j=a('input[name="mlp_add_post['+h+']"]:checked').val(),j&&"0"!==j?o("connect_existing"):alert(b.noPostSelected)},o=function(b){a.ajax({type:"POST",url:ajaxurl,data:{action:"mlp_rsc_"+b,source_post_id:e,source_blog_id:f,remote_post_id:g,remote_blog_id:h,new_post_id:j,new_post_title:k},success:function(){window.location.reload(!0)},async:!1})};if(i&&"stay"!=i)switch(i){case"disconnect":l();break;case"new":m();break;case"search":n()}})}(jQuery,mlpRelationshipControlL10n);